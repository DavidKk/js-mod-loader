!function(e){"use strict";e.attachEvent&&null!=e.opera&&e.opera.toString();var l=null,r=null,a=function(e,t){var r=document.createElement("script"),n="onload"in r?"onload":"onreadystatechange",s=document.getElementsByTagName("head")[0];r.type="text/javascript",r.src=e,r[n]=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||"function"==typeof t&&t()},l=r,s.insertBefore(r,s.firstChild),l=null},i=function(){if(l)return l;if(r&&"interactive"===r.readyState)return r;for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if("interactive"===e[t].readyState)return r=e[t]},o={moduleStack:{},loadedUrl:{},baseUrl:"",mode:"CMD",alias:{},regs:{suffixReg:/\.(js)$/,factoryParamReg:/function[\s]*\(([a-zA-Z_$][\w_$\-\d]*?)([\s]*?,[\s]*?[a-zA-Z_$][\w_$\-\d]*?[\s]*?)*\)/,commenteReg:/\/\/[\s\S]*?\n|\/\*[\s\S]*?\*\//gm,urlReg:/^(https?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?$/},_init:function(){this._setBaseUrl(),e.define=define,e.require=require},_setBaseUrl:function(){var e=document.getElementsByTagName("script"),t=e[e.length-1],r=t.getAttribute("data-main");if(this.baseUrl=t.src.substring(0,t.src.lastIndexOf("/")+1),this.domain=t.src.substring(0,t.src.indexOf("/",t.src.indexOf("://")+3)),r){var n=r.indexOf("://");-1!=n&&(r=r.substr(r.indexOf("/",n+3))),"."!=r.charAt(0)&&"/"!=r.charAt(0)&&(r="./"+r),a(this._urlResolve(this.baseUrl,r))}},_urlResolve:function(e,n){var s=n.match(this.regs.suffixReg)&&n.match(this.regs.suffixReg)[1],l=this;for(var t in this.alias){new RegExp("(^|/)"+t+"(/|$)").test(n)&&(n=n.replace(t,this.alias[t]))}if(n=s?n.slice(0,n.length-(s.length+1)):n,s||(s="js"),this.regs.urlReg.test(n))return e="/"==_moduleId.charAt(_moduleId.length-1)?n+"index."+s:n+"."+s;return"/"!=e.charAt(e.length-1)&&(e=e.substring(0,e.lastIndexOf("/")+1)),function e(t,r){if("/"==r.charAt(0))t=l.domain+"/"+r;else if("./"==r.slice(0,2))t+=r.replace("./","");else if("../"==r.slice(0,3)){if(r=r.replace("../",t),-1==t.indexOf("/"))throw new Error("Error load "+n);if(t=t.substring(0,t.lastIndexOf("/",t.length-1)+1),-1!=r.indexOf("../"))return e(t,r);t+=r}else t=l.baseUrl+n;return t="/"==r.charAt(r.length-1)?t+"index."+s:t+"."+s}(e,n)},_codeResolve:function(e){var t,r=e.toString(),n=[],s=null;t=(s=(r=r.replace(this.regs.commenteReg,"")).match(this.regs.factoryParamReg))[1];s=new RegExp(t+"\\s*?\\(\\s*?['\"](.+?)['\"]\\s*?\\)\\s*?","mg");for(var l=null;l=s.exec(r);)n.push(l[1]);return n},_createRandomName:function(e){for(var t="",r=0;r<e;r++)t+=String.fromCharCode(65+Math.ceil(25*Math.random()));return t+(new Date).getTime()}},u=function(e,t){this.id=e,this.factory=t,this.exports={},(this.module=this).parentModules=[],this.defineDeps=[],this.requireDeps=[],this.allDeps=[],u.anonymous?u.anonymous.push(this):u.anonymous=[this]};u.prototype={constructor:u,require:function(e,t){if(t)require(e,t);else{var r=this.allDeps[e];if("CMD"==o.mode)return r.excuted||(r.exports=this._excute(r)||r.exports),r.exports;if("AMD"==o.mode)return(r=this.allDeps[e]).exports}},_excute:function(r){var e=null;if(r.defineDeps&&0<r.defineDeps.length){for(var t=[],n=0;n<r.defineDeps.length;n++)t.push(r.require(r.defineDeps[n]));e=r.factory.apply(r,t)}else e=r.factory(function(e,t){return r.require(e,t)},r.exports,r);return r.excuted=!0,e},_tryExcute:function(){var e=this.allDeps,t=[],r=!0;if(!(this._depsLinkLoaded&&0<e.length)){for(var n=0;n<e.length;n++){var s=e[e[n]];s&&s._depsLinkLoaded||(r=!1),t.push(e[n])}if(r&&(this._depsLinkLoaded=!0,this.parentModules.length&&"AMD"!=o.mode||this.excuted||(this.exports=this._excute(this)||this.exports),this.parentModules))for(n=0;n<this.parentModules.length;n++)this.parentModules[n]._tryExcute()}},_addParentModule:function(e){for(var t=!1,r=0;r<this.parentModules.length;r++)if(this.parentModules[r]==e){t=!0;break}t||this.parentModules.push(e)},_addDeps:function(e){for(var t=0;t<e.length;t++){for(var r=e[t],n=0,s=this.allDeps.length;n<s;n++){if(r==this.allDeps[n])return}if(!l(o._urlResolve(this.url,r),this.parentModules))throw new Error('loop dependence "'+r+'" in "'+this.url+'"');this.allDeps.push(r)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e==n.id||!l(e,n.parentModules))return!1}return!0}},_setLink:function(){for(var e in o.moduleStack)for(var t=o.moduleStack[e],r=0;r<t.allDeps.length;r++)this.id!=t.allDeps[r]&&this.id!=o._urlResolve(t.url,t.allDeps[r])||(t.allDeps[t.allDeps[r]]=this)._addParentModule(t)}},e.define=function(e,t,r){var n=i(),s=null;if(1==arguments.length?(r=e,e=null):2==arguments.length&&(e instanceof Array?(r=t,t=e,e=null):(r=t,t=null)),t=t||[],n){if(s=o.moduleStack[e]||o.moduleStack[n.src])return;(s=new u(null,r)).id=e,s.defineDeps=t,s._addDeps(s.defineDeps),s.url=n.src,s.id=s.id||s.url,u.anonymous=null,s._setLink(),o.moduleStack[s.id]=s,(u.parentModule=s).factory&&0==s.defineDeps.length&&(s.requireDeps=o._codeResolve(s.factory),s._addDeps(s.requireDeps)),0==s.allDeps.length?s._depsLinkLoaded=!0:require(s.allDeps),o.loadedUrl[s.url]=!0,s._tryExcute()}else(s=new u(null,r)).id=e,s.defineDeps=t,s._addDeps(s.defineDeps)},e.require=function(e,t){var s=null;if(t&&((s=new u(null,t)).url=u.parentModule&&u.parentModule.url?u.parentModule.url:o.baseUrl,s.id=s.url,o.moduleStack[o._createRandomName(6)]=s,u.parentModule=s,u.anonymous=null),e instanceof Array){s&&(s.defineDeps=s.defineDeps.concat(e),s._addDeps(e));for(var r=0;r<e.length;r++)n(e[r])}else s&&(s.defineDeps=[e],s.allDeps=[e]),n(e);function n(e){var t=u.parentModule,r=o._urlResolve(t.url?t.url:o.baseUrl,e),n=o.moduleStack[e]||o.moduleStack[r];n?n._setLink():a(r,function(){if(!o.loadedUrl[r]&&(o.loadedUrl[r]=!0,u.anonymous)){for(var e=[].concat(u.anonymous),t=0;t<e.length;t++)(s=e[t]).url=r,s.id=s.id||s.url,s._setLink(),u.parentModule=s,(o.moduleStack[s.id]=s).factory&&0==s.defineDeps.length&&(s.requireDeps=o._codeResolve(s.factory),s._addDeps(s.requireDeps)),0==s.allDeps.length?s._depsLinkLoaded=!0:require(s.allDeps),s._tryExcute();u.anonymous=null}})}},e.require.config=function(e){if(e){if(e.baseUrl){var t=e.baseUrl;"/"==t.charAt(0)?o.baseUrl+=t.substr(1):o.baseUrl+=t,"/"!=o.baseUrl.charAt(o.baseUrl.length-1)&&(o.baseUrl+="/")}e.mode&&(o.mode=e.mode),e.alias&&(o.alias=e.alias)}},o._init(),e.Loader=o}(window);